<div id="player-list" *ngIf="playerResults">
    <table>
        <tr>
            <th class="player-name">
                Nom
                <mat-icon *ngIf="!isResultsRoute" (click)="sortByName()">{{
                    shouldSortNamesAscending ? 'arrow_drop_down' : 'arrow_drop_up'
                }}</mat-icon>
                <button
                    *ngIf="!isResultsRoute"
                    title="Trier par l'Ã©tat des joueurs"
                    [ngClass]="{ ascending: shouldSortStatesAscending }"
                    id="order-by-state"
                    (click)="sortByState()"
                >
                    <mat-icon>swap_vert</mat-icon>
                </button>
            </th>
            <th *ngIf="!isResultsRoute" class="player-score">
                Score
                <mat-icon (click)="sortByPoints()">{{ shouldSortPointsAscending ? 'arrow_drop_up' : 'arrow_drop_down' }}</mat-icon>
            </th>
            <th *ngIf="isResultsRoute">Score final</th>
            <th *ngIf="isResultsRoute">Bonus</th>
            <th *ngIf="isHost && !isResultsRoute" class="chat-button">Droit de clavarder</th>
        </tr>
        <tr *ngFor="let player of playerResults" class="player-entry">
            <td
                *ngIf="!isResultsRoute"
                class="player-name"
                [class]="{
                    abandoned: player.hasAbandoned,
                    interacted: player.hasClickedOnAnswerField,
                    'confirmed-answer': player.hasConfirmedAnswer
                }"
            >
                {{ player.name }}
            </td>
            <td *ngIf="isResultsRoute" class="player-name-result-page">{{ player.name }}</td>
            <td class="player-score">{{ player.points }} points</td>
            <td *ngIf="isResultsRoute" class="player-bonus">{{ player.bonusCount }} fois</td>
            <td *ngIf="isHost && !isResultsRoute" class="chat-button">
                <mat-slide-toggle [checked]="true" [disabled]="player.hasAbandoned" (change)="toggleChattingRights(player.name)"></mat-slide-toggle>
            </td>
        </tr>
    </table>
</div>
